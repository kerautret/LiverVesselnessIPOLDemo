<%include file="header.html" />

<META NAME="Author" CONTENT="JSC3D">

 

<body  onload="init()">


<p>
  %if  app.cfg['param']['methodname'] != 'RORPO_multiscale_usage' :
  The algorithm result obtained with the method <i><font color="blue" > ${app.cfg['param']['methodname']}</font></i> is displayed hereafter.
  %else:
  The algorithm result obtained with the method <i><font color="blue" >RORPO</font></i> is displayed hereafter.
  %endif
</p>
<p>
  The result was obtained by the following scale  parameters:
  <ul>
  %if  app.cfg['param']['methodname'] != 'RORPO_multiscale_usage' :
  <li>  <label for="sigmamin"> <font color=blue><i>sigma min</i></font>: ${app.cfg['param']['sigmamin']}</label></li>
  <li>  <label for="sigmamax"> <font color=blue><i>sigma max</i></font>: ${app.cfg['param']['sigmamax']}</label></li>
  <li>  <label for="steps"> <font color=blue><i>steps</i></font>: ${app.cfg['param']['steps']}</label></li>
  %else:
  <li> <label for="scaleminrorpo"> <font color=blue><i>scaleMinRORPO</i></font>: ${app.cfg['param']['scaleminrorpo']}</label></li>
  <li> <label for="factorrorpo"> <font color=blue><i>factorRORPO</i></font>: ${app.cfg['param']['factorrorpo']}</label> </li>
  <li><label for="nbscalerorpo"> <font color=blue><i>nbScaleRORPO</i></font>: ${app.cfg['param']['nbscalerorpo']}</label></li>
  <li><label for="dilatationrorpo"> <font color=blue><i>dilatationRORPO</i></font>: ${app.cfg['param']['dilatationrorpo']}</label></li>
  </ul>
  %endif
  </p>
  %if  app.cfg['param']['methodname'] == 'Antiga' :
  <p>And specific <i><font color="blue" > ${app.cfg['param']['methodname']}</font></i>  parameters:
  <ul>
    <li> <label for="alpha"> <font color=blue><i>alpha</i></font>:${app.cfg['param']['alpha']}</label></li>
    <li> <label for="beta"> <font color=blue><i>beta</i></font>:${app.cfg['param']['beta']}</label></li>
    <li> <label for="gamma"> <font color=blue><i>gamma</i></font>:${app.cfg['param']['gamma']}</label></li>
  </ul>
 </p> 
  %elif  app.cfg['param']['methodname'] == 'Jerman' or app.cfg['param']['methodname'] == 'RuiZhang'   :
  <p>And specific <i><font color="blue" > ${app.cfg['param']['methodname']}</font></i>  parameters:
    <ul>
         <label for="tau"> <font color=blue><i>tau</i></font>:${app.cfg['param']['tau']}</label>
  </ul>
 </p> 
  %elif  app.cfg['param']['methodname'] == 'OOF'   :
  <p>And specific <i><font color="blue" > ${app.cfg['param']['methodname']}</font></i>  parameters:
    <ul>
      <label for="sigmaoof"> <font color=blue><i>sigmaOOF</i></font>:  ${app.cfg['param']['sigmaoof']}</label>
  </ul>
 </p>
  %elif  app.cfg['param']['methodname'] == 'Sato'   :
  <p>And specific <i><font color="blue" > ${app.cfg['param']['methodname']}</font></i>  parameters:
    <ul>
      <label for="alpha1sato"> <font color=blue><i>alpha1Sato</i></font>:  ${app.cfg['param']['alpha1sato']}</label>
      <label for="alpha2sato"> <font color=blue><i>alpha1Sato</i></font>:  ${app.cfg['param']['alpha1sato']}</label>
    </ul>
 </p>

  
  %endif

  <ul>
    
<form action="${app.base_url + 'params'}" method="get">
  <div class="action">
    Restart this algorithm with new parameters.
    <input type="hidden" name="key" value="${app.key}">
    <input type="hidden" name="newrun" value="1">
    <input type="submit" value="new parameters" />
  </div>
</form>


<h2>Result</h2>

%if  app.typevisu == 'mesh' :
  <div id="visuMesh" style="float: center; width:560px; margin:auto; position:relative; font-size: 9pt; color: #777777;">
    <div>
		<button id="loadVessel" onclick="switchLiver();">switch Liver</button>
		<button id="loadVessel" onclick="switchDilate();">switch Dilate</button>
		<button id="loadVessel" onclick="switchVessel();">switch Vessel</button>
                <input type="hidden"  id="mesh1" value="${app.work_url + 'dilate.obj'}">
                <input type="hidden"  id="mesh2" value="${app.work_url + 'vessel.obj'}">
                <input type="hidden"  id="mesh3" value="${app.work_url + 'res.obj'}">
     
    </div>
    <br>
    <canvas id="cv" style="fload:center; border: 1px solid;" width="560" height="420" ></canvas>
    </div>
  %else:

  <center>
  <div id="visuVol" 
       class="itk-vtk-viewer"
         data-viewport="650x400"
        data-background-color="ffffff"
       data-url="${app.work_url + 'res.nii'}"
      />

  <script type="text/javascript" src="https://unpkg.io/itk-vtk-viewer@9.18.0/dist/itkVtkViewerCDN.js"></script>
   </div>
  </center>
<br>
  
  %endif
  



<div id="image3d" class="gallery" style="height:${560}px">
    <ul class="index">
 <li>
      <a href="${app.work_url + 'input_0.png'}">Input image
	<span>
	  <img width="${460}px" src="${app.work_url + 'input_0.png'}" alt="input" />
	</span>
      </a>
    </li>


</div>    


<script>
function showVolume() {
  var v = document.getElementById("visuVol");
  var m = document.getElementById("visuMesh");
  v.style.display = "block";
  m.style.display = "none";
}

function showMesh() {
  var v = document.getElementById("visuVol");
  var m = document.getElementById("visuMesh");
  v.style.display = "none";
  m.style.display = "block";
}
</script>
  	<script type="text/javascript" src="http://ipol-geometry.loria.fr/~kerautre/ipol_demo/LiverVesselnessIPOLDemo/static/jsc3d.js"></script>
        <script type="text/javascript" src="http://ipol-geometry.loria.fr/~kerautre/ipol_demo/LiverVesselnessIPOLDemo/static/jsc3d.touch.js"></script>
       <script type="text/javascript" src="http://ipol-geometry.loria.fr/~kerautre/ipol_demo/LiverVesselnessIPOLDemo/static/display3d.js">

       </script>
        <script type="text/javascript">

      </script>
 

<h2>
  <a class="toggle" href="#commands" onclick="toggle('commands');">
    Additional Info
  </a>
</h2>
<div id="commands" style="display:none">
<p>
The algorithm ran with the following commands:
<pre class="stdio"> ${app.list_commands} </pre>
</p>
</div>

<%include file="footer.html" />
<%include file="archive_info.html" />
</body>
